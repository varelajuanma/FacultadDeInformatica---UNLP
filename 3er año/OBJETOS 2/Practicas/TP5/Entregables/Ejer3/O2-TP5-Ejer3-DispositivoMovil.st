TestCase subclass: #DispositivoTest	instanceVariableNames: 'dispositivo dispWifi disp4G dispCRC16 dispCRC32 crc16 crc32 conexionWifi conexion4G'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Test'!!DispositivoTest methodsFor: 'running' stamp: 'Anonymous 7/15/2020 09:57'!setUp	"Hooks that subclasses may override to define the fixture of test."	dispWifi := Dispositivo new.	disp4G := Dispositivo new.	dispCRC16 := Dispositivo new.	dispCRC32 := Dispositivo new.	crc16 := CRC16_Calculator new.	crc32 := CRC32_Calculator new.	conexionWifi := WiFiConn new.	conexion4G := Adapter4GConnection new set4GConnection: CuatroGConnection new.	dispCRC16 configurarCRC: crc16.	dispCRC32 configurarCRC: crc32.	dispWifi conectarCon: conexionWifi.	disp4G conectarCon: conexion4G! !!DispositivoTest methodsFor: 'tests' stamp: 'Anonymous 6/26/2020 10:38'!testConfigurarCRC	self assert: dispCRC16 crcCalculator class equals: CRC16_Calculator.	self assert: dispCRC32 crcCalculator class equals: CRC32_Calculator! !!DispositivoTest methodsFor: 'tests' stamp: 'Anonymous 7/15/2020 09:59'!testSend 	dispositivo := Dispositivo new .	dispositivo conectarCon: conexion4G .	dispositivo configurarCRC: crc16 .		dispositivo send: 'hola como estas' .! !!DispositivoTest methodsFor: 'tests' stamp: 'Anonymous 7/15/2020 10:00'!testConectarCon	self assert: dispWifi connection class equals: WiFiConn.	self assert: disp4G connection class equals: conexion4G class! !Object subclass: #CRC_Algoritmo	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!CRC_Algoritmo methodsFor: 'as yet unclassified' stamp: 'Anonymous 7/15/2020 10:01'!crcFor: datos	self subclassResponsibility! !CRC_Algoritmo subclass: #CRC16_Calculator	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!CRC16_Calculator methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/5/2020 18:57'!crcFor: datos	^ CRC crc16FromCollection: datos.! !CRC_Algoritmo subclass: #CRC32_Calculator	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!CRC32_Calculator methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/5/2020 18:57'!crcFor: datos	^ CRC crc32FromCollection: datos.! !Object subclass: #Connection	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!Connection methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/23/2020 18:40'!sendData: data and: crc	self subclassResponsibility! !!Connection methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/23/2020 18:40'!getImage	self subclassResponsibility! !Connection subclass: #Adapter4GConnection	instanceVariableNames: 'conexion4g'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!Adapter4GConnection methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/11/2020 10:33'!sendData: datos and: crc	^ conexion4g transmit: datos and: crc! !!Adapter4GConnection methodsFor: 'widget protocol' stamp: 'Anonymous 7/15/2020 10:02'!getImage	^ conexion4g symb! !!Adapter4GConnection methodsFor: 'initialization' stamp: 'Anonymous 7/15/2020 09:57'!set4GConnection: a4GConnection	conexion4g := a4GConnection ! !Object subclass: #CuatroGConnection	instanceVariableNames: 'symb'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!CuatroGConnection methodsFor: 'accessing' stamp: 'Anonymous 6/18/2020 09:22'!symb	"devuelve la representacion en string para visualizar esta conexion"	^ '4G'! !!CuatroGConnection methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/11/2020 10:31'!transmit: datos and: crc	! !Object subclass: #DisplayAux	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!DisplayAux methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/12/2020 17:52'!showBanner: img	! !Object subclass: #Dispositivo	instanceVariableNames: 'crc crcCalculator connection ringer display'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!Dispositivo methodsFor: 'initialization' stamp: 'Anonymous 7/15/2020 10:04'!initialize	ringer := Ringer new.	display := DisplayAux new.! !!Dispositivo methodsFor: 'as yet unclassified' stamp: 'Anonymous 7/15/2020 10:04'!configurarCRC: unCRCcalculator	"Configura el uso de unCRCcalculator para validar la integridad de los datos a enviar"	self crcCalculator: unCRCcalculator.	! !!Dispositivo methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/11/2020 10:55'!conectarCon: unaConexion	"Pasa a utilizar unaConexion, muestra el display su simbolo y genera el sonido"	self connection: unaConexion.	display showBanner: unaConexion getImage.	ringer ring! !!Dispositivo methodsFor: 'accessing' stamp: 'Anonymous 6/3/2020 16:19'!connection^ connection ! !!Dispositivo methodsFor: 'accessing' stamp: 'Anonymous 6/5/2020 18:49'!connection: unaConexionconnection := unaConexion ! !!Dispositivo methodsFor: 'accessing' stamp: 'Anonymous 6/3/2020 16:20'!ringer^ringer! !!Dispositivo methodsFor: 'accessing' stamp: 'Anonymous 6/23/2020 18:47'!crcCalculator: unCRC	crcCalculator := unCRC! !!Dispositivo methodsFor: 'accessing' stamp: 'Anonymous 6/3/2020 16:20'!display ^ display ! !!Dispositivo methodsFor: 'accessing' stamp: 'Anonymous 6/3/2020 16:19'!crcCalculator^crcCalculator ! !!Dispositivo methodsFor: 'instructions' stamp: 'Anonymous 6/3/2020 16:16'!send: datos	crc := self crcCalculator crcFor: datos.	self connection sendData: datos and:crc.! !Object subclass: #Ringer	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!Ringer methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/12/2020 17:52'!ring	! !Connection subclass: #WiFiConn	instanceVariableNames: 'pict'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP5-Ejer3-DispositivoMovil-Model'!!WiFiConn methodsFor: 'accessing' stamp: 'Anonymous 6/10/2020 13:41'!pict	"devuelve un string que indica el nombre de la conexion del receptor"^ 'Wi-Fi'! !!WiFiConn methodsFor: 'as yet unclassified' stamp: 'Anonymous 6/10/2020 13:44'!sendData: datos and: crc	! !!WiFiConn methodsFor: 'widget protocol' stamp: 'Anonymous 7/15/2020 10:03'!getImage	^ self pict! !