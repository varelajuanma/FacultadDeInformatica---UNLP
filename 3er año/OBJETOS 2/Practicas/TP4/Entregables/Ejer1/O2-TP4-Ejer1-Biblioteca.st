Object subclass: #Biblioteca	instanceVariableNames: 'socios exporter'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP4-Ejer1-Biblioteca-Model'!!Biblioteca methodsFor: 'as yet unclassified' stamp: 'Anonymous 5/25/2020 10:40'!exportarSocios"Retorna la representacion JSON de la coleccion de socios."^ self exporter export: (self socios).! !!Biblioteca methodsFor: 'socios' stamp: 'EmilianoPrez 4/7/2016 19:41'!agregarSocio: aSocio 	socios add: aSocio.! !!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!socios: anObject	socios := anObject! !!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!exporter: anObject	exporter := anObject! !!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!exporter	^ exporter! !!Biblioteca methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:44'!socios	^ socios! !!Biblioteca methodsFor: 'initialization' stamp: 'EmilianoPrez 4/7/2016 19:56'!initialize: anExporter	socios:= OrderedCollection new.	exporter:= anExporter.! !!Biblioteca methodsFor: 'initialization' stamp: 'EmilianoPrez 4/7/2016 19:44'!initialize	socios:= OrderedCollection new.	exporter:= VoorheesExporter new.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Biblioteca class	instanceVariableNames: ''!!Biblioteca class methodsFor: 'as yet unclassified' stamp: 'EmilianoPrez 4/7/2016 19:55'!new: anExporter	^self new initialize: anExporter	! !Object subclass: #Exporter	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP4-Ejer1-Biblioteca-Model'!!Exporter methodsFor: 'accessing' stamp: 'Anonymous 6/25/2020 18:46'!exportSocio: aSocios	self subclassResponsibility! !!Exporter methodsFor: 'exporting' stamp: 'Anonymous 6/25/2020 18:46'!export: socios self subclassResponsibility ! !Exporter subclass: #ExporterAdapter	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP4-Ejer1-Biblioteca-Model'!!ExporterAdapter methodsFor: 'exporting' stamp: 'Anonymous 5/27/2020 10:18'!exportSocio: aSocio	        ^Dictionary new at: #nombre put: aSocio nombre; at: #email put: aSocio email; at: #legajo put: aSocio legajo; yourself! !!ExporterAdapter methodsFor: 'exporting' stamp: 'Anonymous 5/27/2020 10:18'!export: socios ^ NeoJSONWriter toStringPretty: (socios collect: [ :soc | self exportSocio: soc ]  ) asOrderedCollection! !Object subclass: #Socio	instanceVariableNames: 'nombre email legajo'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP4-Ejer1-Biblioteca-Model'!!Socio methodsFor: 'initialization' stamp: 'EmilianoPrez 4/7/2016 19:40'!nombre: aString email: aString2 legajo: aString3 	nombre:= aString.	email:= aString2.	legajo:= aString3.! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!legajo: anObject	legajo := anObject! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!nombre: anObject	nombre := anObject! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!email: anObject	email := anObject! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!legajo	^ legajo! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!nombre	^ nombre! !!Socio methodsFor: 'accessing' stamp: 'EmilianoPrez 4/7/2016 19:45'!email	^ email! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Socio class	instanceVariableNames: ''!!Socio class methodsFor: 'creation' stamp: 'EmilianoPrez 4/7/2016 19:39'!nombre: aString email: aString2 legajo: aString3 	^self new nombre: aString email: aString2 legajo: aString3 ! !Exporter subclass: #VoorheesExporter	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP4-Ejer1-Biblioteca-Model'!!VoorheesExporter methodsFor: 'exporting' stamp: 'EmilianoPrez 4/7/2016 20:37'!exportSocio: aSocio	^		'	{', Character cr asString,		'		"nombre" : "',aSocio nombre,'",',Character cr asString,		'		"email" : "',aSocio email,'",',Character cr asString,		'		"legajo" : "',aSocio legajo,'"',Character cr asString,		'	}'! !!VoorheesExporter methodsFor: 'exporting' stamp: 'EmilianoPrez 4/7/2016 20:50'!export: socios 		| exportedString |		exportedString := '[', Character cr asString, 	(self exportSocio: socios first). 	socios allButFirst do: [ :socio | 		exportedString := exportedString, ',', Character cr asString, (self exportSocio: socio).			].		^exportedString,Character cr asString,']'.! !TestCase subclass: #BibliotecaTest	instanceVariableNames: 'unaBiblioteca coleccionSocios unExporter arya'	classVariableNames: ''	poolDictionaries: ''	category: 'O2-TP4-Ejer1-Biblioteca-Test'!!BibliotecaTest methodsFor: 'tests' stamp: 'Anonymous 6/9/2020 14:57'!testAgregarSocioself assert: unaBiblioteca socios size equals: 0.unaBiblioteca agregarSocio: arya.self assert: unaBiblioteca socios size equals: 1.! !!BibliotecaTest methodsFor: 'tests' stamp: 'Anonymous 6/9/2020 14:57'!testExportarSocios	"Retorna la representacion JSON de la coleccion de socios."	| jsonAux |	self assert: unaBiblioteca socios size equals: 0.	unaBiblioteca agregarSocio: arya.	jsonAux := '[	{		"nombre" : "Arya Stark",		"email" : "needle@stark.com",		"legajo" : "5234/5"	}]'.	self assert: unaBiblioteca exportarSocios equals: jsonAux! !!BibliotecaTest methodsFor: 'running' stamp: 'Anonymous 6/11/2020 18:12'!setUp	"Hooks that subclasses may override to define the fixture of test."	unaBiblioteca := Biblioteca new.	coleccionSocios := OrderedCollection new.	unExporter := ExporterAdapter new.	arya := Socio		nombre: 'Arya Stark'		email: 'needle@stark.com'		legajo: '5234/5'! !